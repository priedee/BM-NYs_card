<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Base Motion NY card</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  </head>

  <body>
    <a-scene loading-screen="enabled: false">

      <!-- ASSETS (NO VIDEO HERE) -->
      <a-assets>
        <a-asset-item id="myModel" src="AINAVA13.glb"></a-asset-item>
      </a-assets>

      <!-- VIDEO ELEMENT (hidden, loaded later) -->
      <video
        id="video360"
        src="bckgrnd.mp4"
        muted
        loop
        playsinline
        preload="metadata"
        style="display:none">
      </video>

      <!-- VIDEOSPHERE (hidden initially) -->
      <a-videosphere
        id="videoSphere"
        visible="false"
        rotation="0 0 -10">
      </a-videosphere>

      <!-- MODEL -->
      <a-entity
        gltf-model="#myModel"
        position="0 0 0"
        rotation="0 90 0"
        scale="1 1 1">
      </a-entity>

      <!-- CAMERA -->
      <a-entity
        camera
        look-controls
        position="-0.8 3 0.9"
        rotation="17.3 88.7 -3.5"
        fov="50">
      </a-entity>

      <!-- LIGHTS -->
      <a-light type="ambient" intensity="0.12" color="#74A7FE"></a-light>

      <a-light
        type="directional"
        intensity="0.1"
        position="-10 9 -0.5"
        color="#001E57">
      </a-light>

   

    </a-scene>

    <!-- VIDEO START LOGIC (iOS SAFE) -->
    <script>
      const video = document.querySelector('#video360');
      const sphere = document.querySelector('#videoSphere');

      function startVideo() {
        video.play().then(() => {
          sphere.setAttribute('src', '#video360');
          sphere.setAttribute('visible', true);
        }).catch(() => {
          console.log('Video play blocked');
        });
      }

      document.addEventListener('touchstart', startVideo, { once: true });
      document.addEventListener('click', startVideo, { once: true });
    </script>

  </body>
</html>
